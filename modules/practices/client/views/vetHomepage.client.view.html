<div data-ng-controller="practicesController" data-ng-init="initPractice()">

    <div class="row paddedRow">
     
        <img src="modules/core/img/brand/trimauxil-logo-horizontal.svg" class="vetHomeLogoImg">

        <a href="/api/auth/signout" target ="_self">
            <button class="btn btn-primary pull-right" type="button">
                Logout
            </button>    
        </a>   

    </div>

    <div class="row">
        <h1 class="text-center">[PRACTICE]'s Active Patient List</h1>
    </div>

    <div class="TableComponents">
        <div class="row heavy-top-buffer">

            <div class="col-md-3 col-sm-4 pull-right">
                
                <div class="input-group">
                    <!-- Search input -->
                    <input type="text" data-ng-model="search" ng-change="searchChange()" default="''" class="form-control" placeholder="Search">

                    <!-- Clear search input -->
                    <span class="input-group-btn">
                        <button class="btn btn-default" ng-click="search=''; searchChange()">
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                        </button>
                    </span>
                </div>

            </div>
        </div>

        <br>

        <table class="table table-bordered">
            <thead>
                <tr>
                    <th class="col-md-1 notSelectable" ng-click="changeSort('patientId')">Patient ID 
                        <span ng-show="sortBy == 'patientId'" class="fa fa-caret-down"></span>
                        <span ng-show="sortBy == '-patientId'" class="fa fa-caret-up"></span>
                    </th>

                    <th class="col-md-2 notSelectable" ng-click="changeSort('firstName')">Patient Name 
                        <span ng-show="sortBy == 'firstName'" class="fa fa-caret-down"></span>
                        <span ng-show="sortBy == '-firstName'" class="fa fa-caret-up"></span>
                    </th>

                    <th class="col-md-2 notSelectable" ng-click="changeSort('petOwner.lastName')">Client Name 
                        <span ng-show="sortBy == 'petOwner.lastName'" class="fa fa-caret-down"></span>
                        <span ng-show="sortBy == '-petOwner.lastName'" class="fa fa-caret-up"></span>
                    </th>

                    <th class="col-md-2 notSelectable" ng-click="changeSort('REPLACE_ME')">Client Phone Number 
                        <span ng-show="sortBy == 'REPLACE_ME'" class="fa fa-caret-down"></span>
                        <span ng-show="sortBy == '-REPLACE_ME'" class="fa fa-caret-up"></span>
                    </th>

                    <th class="col-md-2 notSelectable" ng-click="changeSort('REPLACE_ME')">Date Started 
                        <span ng-show="sortBy == 'REPLACE_ME'" class="fa fa-caret-down"></span>
                        <span ng-show="sortBy == '-REPLACE_ME'" class="fa fa-caret-up"></span>
                    </th>

                    <th class="col-md-2 notSelectable" ng-click="changeSort('REPLACE_ME')">Next Appointment 
                        <span ng-show="sortBy == 'REPLACE_ME'" class="fa fa-caret-down"></span>
                        <span ng-show="sortBy == '-REPLACE_ME'" class="fa fa-caret-up"></span>
                    </th>

                    <th class="col-md-2 notSelectable" ng-click="changeSort('REPLACE_ME')">Call or Visit 
                        <span ng-show="sortBy == 'REPLACE_ME'" class="fa fa-caret-down"></span>
                        <span ng-show="sortBy == '-REPLACE_ME'" class="fa fa-caret-up"></span>
                    </th>
                </tr>
            </thead>
        </table>

        <div class="tableContainer tableContainerBottomBorder mCustomScrollbar" data-mcs-theme="dark-3">
            <table class="table table-bordered patientListTable">
                <tbody>

                    <tr ng-repeat="patient in activePatientsFiltered | orderBy:[sortBy,'nextAppointment_WHICH_DOESNT_EXIST_YET']" ng-click="selectPatient(patient)" class="patientTableRow">
                        
                        <td class="col-md-1"> {{ patient.patientId }} </td>

                        <td class="col-md-2"> {{ patient.firstName }} </td>

                        <td class="col-md-2"> Fake, Name <!-- {{ patient.petOwner.lastName }}, {{ patient.petOwner.firstName }} --> </td>

                        <td class="col-md-2"> (012) 345-6789 <!-- {{ patient.petOwner.phoneNumber }} --> </td>
                        
                        <td class="col-md-2"> {{ patient.dateCreated | dateFormat }} </td>

                        <td class="col-md-2"> {{ patient.dateCreated | dateFormat }} </td>

                        <td class="col-md-2"> Visit <!-- {{ patient.X }} --> </td>
                    </tr>

                </tbody>
            </table>
        </div>

        <div class="row newPatientButton">
            <div class="col-md-9 col-sm-8">
                <div class="AddButton">
                    <button ng-click="newPatientClick()" class="btn btn-primary" type="button">Add New
                    Patient</button>
                </div>
            </div>
        </div>

    </div>

</div>